<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <title>Quick Quote Form</title>
</head>

<body>
  <div class="container mt-4 mb-5">
    <!-- <div class="row d-flex justify-content-center">
        <img src="alzaginsurance.png" alt="Alzag Insurance Logo" style="height:100px;">        
      </div>
      <hr class="mt-5"> -->
    <div style="text-align:center;">
      <h3>Quick Quote Form</h3>
    </div>
    <div id="form-container" class="row">
      <div class="col">
        <form class="mt-3" id="hotel-inquiry">
          <h3>Applicant Information</h3>
          <div class="row">
            <div class="form-group col-md-6">
              <label for="applicant-name">Name of Applicant</label>
              <input type="text" name="applicant-name" class="form-control" id="applicant-name">
            </div>
            <div class="form-group col-md-6">
              <label for="applicant-name">Business Name of Applicant</label>
              <input type="text" name="applicant-business-name" class="form-control" id="applicant-business-name">
            </div>

            <div class="col-md-6 form-group">
              <label for="phone">Contact Phone Number</label>
              <input type="text" id="phone" placeholder="1111111111" name="phone" class="form-control">
            </div>

            <div class="col col-md-6 form-group">
              <label for="email">Contact Email</label>
              <input type="text" id="email" placeholder="email@domain.com" name="email" class="form-control">
            </div>

            <div class="col-md-4 form-group">
              <label for="business-entity">Business Entity</label>
              <select name="business-entity" id="business-entity" class="form-control">
                <option value="corporation">Corporation</option>
                <option value="individual">Individual</option>
                <option value="llc">LLC</option>
                <option value="partnership">Partnership</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div class="form-group col">
              <label for="location-address">Location Address</label>
              <input type="text" name="location-address" class="form-control" id="location-address">
            </div>
          </div>

          <div class="row">
            <div class="form-group col-sm-6">
              <label for="location-qty">How Many Locations</label>
              <select name="location-qty" id="location-qty" class="form-control"></select>
            </div>
            <div class="form-group col-sm-6">
              <label for="annual-gross-sales">Annual Gross Sales</label>
              <input type="number" name="annual-gross-sales" id="annual-gross-sales" class="form-control">
            </div>
            <div class="form-group col-sm-6">
              <label for="front-desk-staff">Number Front Desk Staff</label>
              <input type="number" name="front-desk-staff" id="front-desk-staff" class="form-control">
            </div>
            <div class="form-group col-sm-6">
              <label for="front-desk-staff">Number Maid Staff</label>
              <input type="number" name="maid-staff" id="maid-staff" class="form-control">
            </div>

          </div>
          <div id="property-location-container">
            <!-- property location template(s) append here -->
          </div>
          <hr>

          <button class="btn btn-primary mt-4" id="submit-btn">Submit</button>
        </form>
      </div>
    </div>
  </div>

  <div id="thank-you-container" style="display:none; margin-top:10px;">
    <div class="row d-flex justify-content-center">
      <div class="col-10">
        Thank you for your quick quote application. A profile has been created. We will contact you shortly with any
        questions
        we may have. Should this form be sufficient, an estimate will be sent to you.
      </div>
    </div>
  </div>

  <script type="text/template" id="property-profile-template">
  <hr>
  <h3>Property Profile - Location {0}</h3>
<div class="row">
  <!-- - Currently Insured Building Value  -->
  <div class="col-sm-6 form-group">
    <label for="insured-building-value-loc-{0}">Currently Insured Building Value</label>
    <input type="number" id="insured-building-value-loc-{0}" min="0" name="insured-building-value-loc-{0}" class="form-control">
  </div>
  <!-- - Year Built -->
  <div class="col-sm-6 form-group">
    <label for="year-built-loc-{0}">Year Built</label>
    <select name="year-built-loc-{0}" id="year-built-loc-{0}" class="year-select form-control"></select>
  </div>
  <!-- - Square footage -->
  <div class="col-sm-6 form-group">
    <label for="square-footage-loc-{0}">Square Footage</label>
    <input type="number" name="square-footage-loc-{0}" id="square-footage-loc-{0}" min="0" class="form-control">
  </div>
  <!-- - How many units -->
  <div class="col-sm-6 form-group">
    <label for="number-units-loc-{0}">How Many Units</label>
    <input type="number" name="number-units-loc-{0}" id="number-units-loc-{0}" min="0" class="form-control">
  </div>
  <!-- - How many stories -->
  <div class="col-sm-6 form-group">
    <label for="number-stories-loc-{0}">How Many Stories</label>
    <input type="number" name="number-stories-loc-{0}" id="number-stories-loc-{0}" min="0" class="form-control">
  </div>

  <!-- - Classification (Hotel, motel, resort) -->
  <div class="col-sm-6 form-group">
    <label for="classification-loc-{0}">Classification</label>
    <select name="classification-loc-{0}" id="classification-loc-{0}" class="form-control">
      <option value="hotel">Hotel</option>
      <option value="motel">Motel</option>
      <option value="resort">Resort</option>
    </select>  
  </div>
</div>
<hr>
<!-- - Is there pool on the premesis -->
<div class="row">
  <div class="col-7">
    <span>Is there a pool on the premesis</span>
  </div>
  <div class="col-4">
    <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" name="pool-loc-{0}" id="pool-yes-loc-{0}" class="custom-control-input" value="yes">
      <label for="pool-yes-loc-{0}" class="custom-control-label">Yes</label>
    </div>
    <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" name="pool-loc-{0}" id="pool-no-loc-{0}" class="custom-control-input" value="no">
      <label for="pool-no-loc-{0}" class="custom-control-label">No</label>
    </div>
  </div>
</div>

<!-- - Does the 1st floor rooms have out-side access -->
<div class="row mt-2">
    <div class="col-7">
      <span class="">Does the 1st floor rooms have out-side access</span>
    </div>
    <div class="col-4">
      <div class="custom-control custom-radio custom-control-inline">
        <input type="radio" name="first-floor-outside-access-loc-{0}" value="yes" id="first-floor-outside-access-loc-yes-{0}" class="custom-control-input">
        <label for="first-floor-outside-access-loc-yes-{0}" class="custom-control-label">Yes</label>
      </div>

      <div class="custom-control custom-radio custom-control-inline">
        <input type="radio" name="first-floor-outside-access-loc-{0}" value="no" id="first-floor-outside-access-loc-no-{0}" class="custom-control-input">
        <label for="first-floor-outside-access-loc-no-{0}" class="custom-control-label">No</label>
      </div>
    </div>
  </div>

<!-- - Do you offer shuttle service -->
<div class="row mt-2">
  <div class="col-7">
    <span>Do you offer shuttle service</span>
  </div>
  <div class="col-4">
    <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" name="shuttle-service-loc-{0}" id="shuttle-service-yes-loc-{0}" class="custom-control-input" value="yes">
      <label for="shuttle-service-yes-loc-{0}" class="custom-control-label">Yes</label>
    </div>
    <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" name="shuttle-service-loc-{0}" id="shuttle-service-no-loc-{0}" class="custom-control-input" value="no">
      <label for="shuttle-service-no-loc-{0}" class="custom-control-label">No</label>
    </div>
  </div>
</div>

<!-- - Is there a restaurant on the premises -->
<div class="row mt-2">
  <div class="col-7">
    <span>Is there a restaurant on the premises</span>
  </div>
  <div class="col-4">
    <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" name="restaurant-loc-{0}" id="restaurant-yes-loc-{0}" class="custom-control-input" value="yes">
      <label for="restaurant-yes-loc-{0}" class="custom-control-label">Yes</label>
    </div>
    <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" name="restaurant-loc-{0}" id="restaurant-no-loc-{0}" class="custom-control-input" value="no">
      <label for="restaurant-no-loc-{0}" class="custom-control-label">No</label>
    </div>
  </div>
</div>
<hr>
<!-- - Please describe any amenities available -->
<div class="row">
  <div class="col form-group">
    <label for="amenities-description-loc-{0}">Please describe any amenities available</label>
    <textarea name="amenities-description-loc-{0}" id="amenities-description-loc-{0}" cols="30" rows="10" class="form-control"></textarea>
  </div>
</div>

</script>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/validate.js/0.13.1/validate.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdn.emailjs.com/sdk/2.3.2/email.min.js"></script>
  <script type="text/javascript">
    (function () {
      emailjs.init("user_2amNzfTnjDyZn3jf8R3lZ");
    })();
  </script>
  <!-- <script type="text/javascript" src="scripts.js"></script> -->
  <script type="text/javascript">
    $(document).ready(function () {

      for (var i = 0; i < 21; i++) {
        console.log('i: ', i);
        $('#location-qty').append('<option value="' + i + '">' + i + '</option>')
      }


      $('#location-qty').on('change', function () {
        var locationCount = $(this).val();
        var $stockTemplate = $('#property-profile-template').html();
        var $locationsContainer = $('#property-location-container');

        $locationsContainer.empty();
        for (var i = 0; i < locationCount; i++) {
          var template = $stockTemplate.formatTemplate(i + 1);
          $locationsContainer.append(template);
        }

        addYearSelectOptions('.year-select');
      });

      $('.business-auto').on('click', function () {
        if ($('#business-auto-yes').is(':checked'))
          $('#business-auto-has').fadeIn();
        else
          $('#business-auto-has').hide();
      });

      $('.business-auto-quote').on('click', function () {
        if ($('#business-auto-quote-yes').is(':checked'))
          $('#business-auto-request-quote').fadeIn();
        else
          $('#business-auto-request-quote').hide();
      });

      $('#submit-btn').on('click', (e) => {
        e.preventDefault();
        var emailTHtml = $('<div class="container"><div><b>date: </b>' + new Date() + '</div></div>');
        var formSerialized = $('#hotel-inquiry').serializeArray();
        formSerialized.forEach((question) => {
          emailTHtml.append('<div><b>' + question.name + ': </b>' + question.value + '</div>')
        });

        var template_params = {
          "to_name": "Mr. Albasel",
          "message_html": emailTHtml.html()
        }

        var service_id = "default_service";
        var template_id = "template_V5WJ1YJj_clone";
        emailjs.send(service_id, template_id, template_params);

        $('#form-container').hide();
        $('#thank-you-container').show();

      });

    });

    String.prototype.formatTemplate = function () {
      var formattedTemplate = this;
      for (var i = 0; i < arguments.length; i++) {
        var replacer = new RegExp('\\{' + i + '\\}', 'gi'); // {# (arg index#)}
        formattedTemplate = formattedTemplate.replace(replacer, arguments[i]);
      }
      return formattedTemplate;
    }

    var addYearSelectOptions = function (selector) {
      $(selector).empty();
      $(selector).append('<option>select year</option')
      var currentYear = new Date().getFullYear();
      for (var i = currentYear; i > 1900; i--) {
        $(selector).append('<option value="' + i + '">' + i + '</option>')
      }
    }
  </script>
</body>

</html>